<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <script src="../src/23.sleipnir.boot.js" data-core="../src/23.sleipnir.core.js"></script>
    
</head>
<body>
    
</body>

    <script>
        sleipnir(function(){
            
            var ns = {}
              , utils = ns.utils = {}
              , entities = ns.entities = {}
              , controllers = ns.controllers = {}
                        
            var Range = utils.Range = sleipnir.class(function(){
                    
                    this.contains = function(point){} //Indicates if a point or range is contained within a list of ranges.
                    this.sort = function(){} //Sorts a list of ranges
                    this.coalesce = function(){} //Takes a list of ranges, and returns a new list, where contiguous ranges are joined together.
                    this.overlap = function(){} //Takes a list of ranges, and returns those ranges that overlap a given range
                    this.merge = function(){} //Gives you a range that represents a merging of two ranges together.
                    this.substract = function(){} //Gives you a range that represents the range with another range removed out of it.
                    this.intersect = function(){} //Gives you the intersection of two ranges, the range of where they both overlap.
                    this.split = function(){} //Gives you a two ranges (well, possibly one), your range split at a point.
                    this.find = function(){} //Takes a list of ranges, and applies a predicate to find a range you're looking for.
                    this.findAll = function(){} //Takes a list of ranges, and applies a predicate to find the ranges you're looking for.
                    
                    return {
                        _construct: {enumerable: false, value: function(min, max){
                            this.__define__('__isRange__', {value: true})
                            this.__define__('lowerBound', {enumerable: true, value: min})
                            this.__define__('upperBound', {enumerable: true, value: max})
                        }}
                      , contains: function(){} //Determines if a value falls within the range.
                      , iterate: function(){} //Allows you to iterate from the LowerBound to the UpperBound of your range.
                      , reverseIterate: function(){} //Allows you to iterate from the upperBound to the lowerBound of your range.
                    }
                })
            
            var Point = utils.Point = sleipnir.class(function(){
                    
                    this.copy = function(point){} //return a new point with the same data as the passed point
                    this.equal = function(pa, pb){} //determines whether two Point objects are equal. Two points are considered equal if they have the same X and Y data members.
                    
                    return {
                        _construct: {enumerable: false, value: function(x, y){
                            this.__defined__('__isPoint', {value: true})
                            this.__define__('x', {enumerable: true, writable: true, value: x})
                            this.__define__('y', {enumerable: true, writable: true, value: y})
                        }}
                    }
                })
            
            var Shape = utils.Shape = sleipnir.class({
                    _construct: {enumerable: false, value: function(){
                          this.__define__('__isShape', {value: true})
                    }}
                })
            
            var Circle = Shape.Circle = sleipnir.class(Shape, function(supr){
                    return {
                        _construct: {enumerable: false, value: function(){
                              supr(this)
                        }}
                    }
                })
            
            var Rect = Shape.Rect = sleipnir.class(Shape, function(supr){
                    return {
                        _construct: {enumerable: false, value: function(){
                              supr(this)
                        }}
                    }
                })
            
            var CustomShape = Shape.Custom = sleipnir.class(Shape, function(supr){
                    
                    return {
                        _construct: {enumerable: false, value: function(){
                              supr(this)
                        }}
                    }
                })
            
            
            var Sprite = Shape.Sprite = sleipnir.class(Shape, function(){
                  
                    return {
                        _construct: {enumerable: false, value: function(){
                            
                        }}
                    }
                })
            
              , Ship = sleipnir.class(Sprite, function(supr, _){
                    var defaults = {
                            velocity: {
                                max: 100
                              , acceleration: 1
                            }
                          , agility: 1
                        }
                    
                    return {
                        _construct: function(_params){
                            var params = _.mix((_params || {}), defaults)
                            
                            supr(this)
                            this.__define__('__acceleration__', {writable:true, value: params.velocity.acceleration})
                            this.__define__('__velocity__', {value: new Range(0, params.velocity.max)})
                            this.__define__('__agility__', {writable:true, value: params.agility})
                        }
                    }
                })
            
            
            
            
            
            
            
            var Area = utils.Area = sleipnir.class(function(supr, _){
                    
                    this.copy = function(){}
                    
                    return {
                        _construct: {enumerable: false, value: function(x, y, shape){
                              var args = _.to.array(arguments)
                                , shape, center
                              
                              shape = args[args.length-1].__isShape__ ? args.pop() : new Shape.Circle(0)
                              
                              if ( args.length == 1 && args[0].__isPoint__ )
                                center = args.shift()
                              else if ( args.length == 2 )
                                center = new Point(args[0], args[1])
                              
                              this.__define__('__isArea__', {value: true})
                              this.__define__('__center__', {value: center})
                              this.__define__('__shape__', {value: shape})
                        }}
                      , contains: function(point){}
                      , overlaps: function(area){}
                    }
                })
                
                , Box = Area.Box = sleipnir.class(Area, function(supr){
                    
                    return {
                        _construct: {enumerable: false, value: function(){
                            supr(this)
                        }}
                    }
                })
            
            
            
            
            
            
            
            var Entity = sleipnir.class(sleipnir.core.EventEmitter, function(supr){
                    return {
                        _construct: {enumerable: false, value: function(){
                            supr(this)
                            
                        }}
                      , collidable: true
                    }
                })
              
              , Scenery = entities.Scenery = sleipnir.class(Entity, function(supr){
    
                    return {
                        _construct: {enumerable: false, value: function(params){
                            supr(this, params)
                        }}
                    }
                })
              
              , Player = entities.Player = sleipnir.class(Entity, function(supr){
                    
                    return {
                        _construct: {enumerable: false, value: function(params){
                            supr(this, params)
                        }}
                    }
                })
              
              , Npc = entities.Npc = sleipnir.class(Entity, function(supr){
                    return {
                        _construct: {enumerable: false, value: function(params){
                            supr(this, params)  
                        }}
                    }
                })
            
            
            
            
            
            
            
            var Controller = sleipnir.class(sleipnir.core.EventEmitter, function(supr){
                    
                    return {
                        _construct: {enumerable: false, value: function(){
                            supr(this)
                        }}
                    }
                })
              
              , Keyboard = controllers.Keyboard = sleipnir.class(Controller, function(supr){
                    
                    return {
                        _construct:{enumerable: false, value: function(){
                            supr(this)
                        }}
                    }
                })
              
              , Mouse = controllers.Mouse = sleipnir.class(Controller, function(supr){
  
                    return {
                        _construct:{enumerable: false, value: function(){
                            supr(this)
                        }}
                    }
                })
              
              , Touch = controllers.Touch = sleipnir.class(Controller, function(supr){

                    return {
                        _construct:{enumerable: false, value: function(){
                            supr(this)
                        }}
                    }
                })
              
              , AI = controllers.AI = sleipnir.class(Controller, function(supr){
                  
                    return {
                        _construct:{enumerable: false, value: function(){
                            supr(this)
                        }}
                    }
                })
              
              var Library = sleipnir.class(sleipnir.core.EventEmitter, function(supr){
                      
                      return {
                          _construct: {enumerable: true, value:function(){
                              supr(this)
                          }}
                      }
                  })
              
              
              var Game = sleipnir.class(sleipnir.core.EventEmitter, function(supr){
                      
                      return {
                          _construct: {enumerable:false, value: function(){
                              supr(this)
                              
                              for ( var i=0, k=Object.keys(ns), l=k.length; i<l; i++ )
                                this[k[i]] = ns[k[i]]
                                
                              this.library = new Library
                          }}
                      }
                  })
              
              var World = sleipnir.class(sleipnir.core.EventEmitter, function(supr){
                  
                  return {
                      _construct: {enumerable:false, value: function(){
                          supr(this)
                          
                      }}
                  }
              })
              
              var Canvas = World.Canvas = sleipnir.class(sleipnir.core.EventEmitter, function(supr){
                      
                      return {
                          _construct: {enumerable:false, value: function(eltId){
                              supr(this)
                              
                              this.__define__('__isCanvas__', {value: true})
                          }}
                      }
                  })
                
              var Timeline = World.Timeline = sleipnir.class(sleipnir.core.EventEmitter, function(supr){
                      
                      return {
                          _construct: {enumerable:false, value: function(){
                              supr(this)
                          }}
                      }
                  })
            
            window.Game = Game
        }, false)
        
        
        
        sleipnir(function(){
            var game = new Game() // init Game, returns the game namespace, a Library instance, a Timeline instance, a World instance, a Display instance
            
            
            /*
            game.world.describe({height:960, width:320})
            game.display.describe({height:320, width:320}).appendTo("#eltId")
            
            var keyboard = new game.controllers.Keyboard
              , player = new game.entities.Player
            */              
            
            
            
            
        }, true)
    </script>
</html>
